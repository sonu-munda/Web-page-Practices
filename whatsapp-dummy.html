<html>

<head>
    <title></title>
    <style>
        .item {
            margin-top: 1px;
            display: flex;
            padding: 8px;
            background-color: rgb(201, 255, 199);
        }

        .item:hover {
            transform: scale(1.01);
        }

        .pro {
            height: 40px;
            width: 40px;
            border-radius: 40px;
        }

        .name-time {
            display: flex;
            height: 20px;
            width: 340px;
            align-items: baseline;
            justify-content: space-between;
        }

        .NAME {
            font-weight: 700;
            font-size: 16px;
            letter-spacing: 0.5px;
        }

        .content {
            padding-left: 8px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .Text {
            font-size: 14px;
            letter-spacing: 0.5px;
        }

        .dat {
            width: 100px;
            font-size: 11px;
        }
    </style>
</head>

<body>
    <div style="max-width: 400px;" id="container">
    </div>
</body>
<script>
    let chatdata = {
        "status": "Success",
        "data": {
            "chat-list": [
                {
                    "_id": "chat000001",
                    "user": {
                        "id": "user00000u2",
                        "name": "Sonu Hill View",
                        "profile-image-url": "https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=256&h=256&dpr=2"
                    },
                    "messages": [
                        {
                            "_id": "m001",
                            "user": "user00000u2",
                            "text": "Hii",
                            "created_at": "2023-02-21T05:13:07.914Z"
                        },
                        {
                            "_id": "m001",
                            "user": "user00000u1",
                            "text": "Hello",
                            "created_at": "2023-02-20T05:13:07.914Z"
                        }
                    ]
                },
                {
                    "_id": "chat000002",
                    "user": {
                        "id": "user00000u3",
                        "name": "Ashwarya",
                        "profile-image-url": "https://images.pexels.com/photos/1310522/pexels-photo-1310522.jpeg?auto=compress&cs=tinysrgb&w=256&h=256&dpr=2"
                    },
                    "messages": [
                        {
                            "_id": "m001",
                            "user": "user00000u3",
                            "text": "How are you?",
                            "created_at": "2023-02-20T05:13:07.914Z"
                        },
                        {
                            "_id": "m001",
                            "user": "user00000u3",
                            "text": "How about you?",
                            "created_at": "2023-02-19T05:13:07.914Z"
                        }
                    ]
                },
                {
                    "_id": "chat000004",
                    "user": {
                        "id": "user00000u4",
                        "name": "Shanya Mirza",
                        "profile-image-url": "https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=256&h=256&dpr=2"
                    },
                    "messages": [
                        {
                            "_id": "m001",
                            "user": "user00000u4",
                            "text": " I wouldn't be surprised if cats understood it but just didn't care, LOL.",
                            "created_at": "2023-02-19T05:13:07.914Z"
                        },
                        {
                            "_id": "m002",
                            "user": "user00000u1",
                            "text": "  You must have ESP. I was going to tell you teh same thing! I have a sad story to tell there are less tigers living in the wild in Asia than as pets in the US.",
                            "created_at": "2023-02-20T05:13:07.914Z"
                        }
                    ]
                }, {
                    "_id": "chat000003",
                    "user": {
                        "id": "user00000u4",
                        "name": "Shanya Sinha",
                        "profile-image-url": "https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=256&h=256&dpr=2"
                    },
                    "messages": [
                        {
                            "_id": "m001",
                            "user": "user00000u4",
                            "text": " I wouldn't be surprised if cats understood it but just didn't care, LOL.",
                            "created_at": "2023-02-19T05:13:07.914Z"
                        },
                        {
                            "_id": "m002",
                            "user": "user00000u1",
                            "text": "  You must have ESP. I was going to tell you teh same thing! I have a sad story to tell there are less tigers living in the wild in Asia than as pets in the US.",
                            "created_at": "2023-02-20T05:13:07.914Z"
                        }
                    ]
                }

            ],
            "counts": 3
        }
    }
    let con = document.getElementById("container");
    console.log(con);

    function makeUserTile(dp_, name_, text_, time_) {
        let spanname = document.createElement("span");
        let spantime = document.createElement("span");
        spanname.className = "NAME";
        spantime.className = "dat";
        spanname.innerText = name_;
        spantime.innerText = time_;
        let divnametime = document.createElement("div");
        divnametime.className = "name-time";
        divnametime.appendChild(spanname);
        divnametime.appendChild(spantime);

        let spantext = document.createElement("span");
        spantext.className = "Text";
        spantext.innerText = text_;

        let divcontent = document.createElement("div");
        divcontent.className = "content";
        divcontent.appendChild(divnametime);
        divcontent.appendChild(spantext);


        let img = document.createElement("img");
        img.className = "pro";
        img.src = dp_;
        let divitem = document.createElement("div");
        divitem.className = "item";
        divitem.appendChild(img);
        divitem.appendChild(divcontent);
        con.appendChild(divitem);


    }


    function main() {
        for (let i = 0; i < chatdata["data"]["chat-list"].length; i++) {
            let dp = chatdata["data"]["chat-list"][i]['user']['profile-image-url'];
            let name = chatdata["data"]["chat-list"][i]['user']['name'];
            let timedate = chatdata["data"]["chat-list"][i]['messages'][0]['created_at'];
            let ms = Date.parse(timedate);
            let text = chatdata["data"]["chat-list"][i]['messages'][0]['text'];
            makeUserTile(
                dp,
                name,
                text,
                ms
            );
        }
    }
    main();
</script>

</html>